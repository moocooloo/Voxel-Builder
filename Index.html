<!DOCTYPE html>
<html>
<head>
    <title>Simple Voxel Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            margin: 0; 
            overflow: hidden; 
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }
        canvas { display: block; }
        .active-mode {
            outline: 4px solid rgb(59 130 246); /* Tailwind's ring-4 ring-blue-500 */
        }
        .message-box {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 20;
            display: none; /* Hidden by default */
        }
    </style>
</head>
<body class="bg-gray-900">
    <div class="absolute top-4 left-1/2 -translate-x-1/2 flex items-center space-x-4 p-2 bg-gray-800 rounded-xl shadow-lg border border-gray-700 z-10">
        <button id="voxel-button" class="p-3 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors active-mode">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
            </svg>
        </button>
        <button id="eraser-button" class="p-3 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
        </button>
        <button id="hand-button" class="p-3 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M7 11.5V14m0-2.5v2.5m-5 7V13a2 2 0 012-2h4a2 2 0 012 2v6m-6 0h6m-6 0l-2 2" />
            </svg>
        </button>
        <button id="scale-button" class="p-3 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 10.5l11-11v11l-11-11z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 13.5l-11 11v-11l11 11z" />
            </svg>
        </button>
        <button id="undo-button" class="p-3 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
        </button>
        <button id="view-actual-button" class="p-3 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
            </svg>
        </button>
        <button id="save-button" class="p-3 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4" />
            </svg>
        </button>
        <button id="load-button" class="p-3 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
        </button>
        <input type="color" id="color-picker" value="#00ffff" class="w-10 h-10 rounded-xl cursor-pointer bg-gray-700 p-0.5 border-none">
    </div>
    
    <div id="save-message-box" class="message-box p-6 bg-gray-700 rounded-lg shadow-2xl border border-gray-600 text-white w-96 max-w-full">
        <h3 class="text-lg font-bold mb-2">Your Save Code</h3>
        <pre id="save-code" class="bg-gray-800 p-2 rounded-lg text-sm overflow-x-auto whitespace-pre-wrap break-words h-32 overflow-y-auto"></pre>
        <button id="close-save-button" class="mt-4 w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">Close</button>
    </div>

    <div id="load-message-box" class="message-box p-6 bg-gray-700 rounded-lg shadow-2xl border border-gray-600 text-white w-96 max-w-full">
        <h3 class="text-lg font-bold mb-2">Paste Your Save Code</h3>
        <textarea id="load-code-input" class="w-full h-32 p-2 bg-gray-800 rounded-lg text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
        <div class="flex space-x-2 mt-4">
            <button id="load-code-button" class="w-1/2 py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">Load</button>
            <button id="close-load-button" class="w-1/2 py-2 px-4 bg-red-600 hover:bg-red-700 rounded-lg transition-colors">Cancel</button>
        </div>
    </div>

    <div id="scale-message-box" class="message-box p-6 bg-gray-700 rounded-lg shadow-2xl border border-gray-600 text-white w-96 max-w-full">
        <h3 class="text-lg font-bold mb-2">Scale Model</h3>
        <div class="flex space-x-2">
            <input type="number" id="scaleX" class="w-1/3 p-2 bg-gray-800 rounded-lg text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Scale X" value="2">
            <input type="number" id="scaleY" class="w-1/3 p-2 bg-gray-800 rounded-lg text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Scale Y" value="2">
            <input type="number" id="scaleZ" class="w-1/3 p-2 bg-gray-800 rounded-lg text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Scale Z" value="2">
        </div>
        <label class="flex items-center space-x-2 mt-4 text-sm font-semibold">
            <input type="checkbox" id="scaleZCheckbox" checked class="form-checkbox text-blue-500">
            <span>Also scale Y value</span>
        </label>
        <div class="flex space-x-2 mt-4">
            <button id="applyScaleButton" class="w-1/2 py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">Apply Scale</button>
            <button id="closeScaleButton" class="w-1/2 py-2 px-4 bg-red-600 hover:bg-red-700 rounded-lg transition-colors">Cancel</button>
        </div>
    </div>
    
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
            }
        }
    </script>
    <script type="module" src="main.js"></script>
</body>
</html>